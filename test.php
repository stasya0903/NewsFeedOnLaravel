<?php
$arrayOfDoctors = array(
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    ),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Прохоров',
        'specialty' => 'хирург
'),
    array(
        'name' => 'Иванов',
        'specialty' => 'хирург
'), array(
        'name' => 'Сидоров',
        'specialty' => 'хирург
'),

    array(
        'name' => 'Петров',
        'specialty' => 'кардиолог'
    )
);


function deleteDoctorBy($arrayOfDoctors, $deleteBy, $value)
{
    return array_filter($arrayOfDoctors, function ($doctor) use ($deleteBy, $value) {
        return $doctor[$deleteBy] !== $value;
    });
}

function deleteDoctor($arrayOfDoctors, $deleteBy, $value)
{
    $arrayKeysToDelete = [];

    foreach ($arrayOfDoctors as $doctor => $doctorInfo) {
        if ($doctorInfo[$deleteBy] === $value) {
            $arrayKeysToDelete[] = $doctor;
        }
    }
    return array_diff_key($arrayOfDoctors, array_flip($arrayKeysToDelete));

}

/*var_dump(deleteDoctor($arrayOfDoctors, 'name', 'Иванов'));*/
/*deleteDoctor($arrayOfDoctors, 'name', 'Иванов');*/


function deleteDoctorByLastName2($arrayOfDoctors, $value)
{
    usort($arrayOfDoctors, function ($first, $second) {
        return strcmp($first['name'], $second['name']);
    });
    $lastNames = array_column($arrayOfDoctors, 'name');
    $first_found_key = array_search($value, $lastNames);
    $timesRepeated = array_count_values($lastNames)[$value];
    array_splice($arrayOfDoctors, $first_found_key, $timesRepeated );
    return $arrayOfDoctors;
}

$start1 = microtime(true);


deleteDoctorByLastName1($arrayOfDoctors, 'name', 'Иванов');

$time1 = microtime(true) - $start1 ;

echo "</br>"  . $time1 . "</br>";
$start2 = microtime(true);

deleteDoctor($arrayOfDoctors, 'name','Иванов');


$time2 = microtime(true) - $start2 ;

echo "</br>"  . $time2 . "</br>";

$start3 = microtime(true);


deleteDoctorByLastName2($arrayOfDoctors,  'Иванов');

$time3 = microtime(true) - $start3 ;

echo "</br>"  . $time3 . "</br>";
?>

setTimeout( () =>{
alert("А ты оставил отзыв о своем враче?")
}, 3000);
